## 查看、收集调试日志

在测试中，有时会遇到一些很难复现的问题，因此 QRN 提供了日志记录的服务器，用于查看操作过程中的日志。这个功能在非调试模式中也可以使用，因此可以在 QA 测试过程中帮助开发寻找问题出现的原因。

### 开启日志服务器

在[项目创建](index-项目创建.html)的流程中，已经提到了安装`@qnpm/http-log-watch`模块。安装好后，在终端启动

``` sh
log-watch
```

即可开启日志记录服务。访问[http://localhost:3000/console](http://localhost:3000/console)即可实时查看设备发来的日志。

### 开启设备日志记录

首先，确保设备与日志服务机器连接到同一 Wifi 环境下，并位于同一网段内，保证设备可以访问到日志服务机。

- 在客户端中打开项目的页面。
- 摇动手机，弹出浮动菜单，选择“Log 查看”。
- 设置日志服务器的地址为机器ip，端口`3000`。（例：`http://192.168.193.21:3000`）
- 选择想要发送到服务机的日志类别。
  - jsLog: 所有的 `console.*`记录的日志
  - js -> native: 所有的 native 模块调用（包含大量的 UI 刷新操作记录，可用于跟踪 UI）
  - native -> js: native 调用 js 的日志


