<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>qapp adapter searchlist</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

    <link rel="stylesheet" type="text/css" href="../style/style.css"/>
    <link rel="stylesheet" type="text/css" href="../style/custom.css"/>
    <style>
        body {
            height: 538px;
            overflow: hidden;
        }
        .yo-group {
            top: 0.95rem;
        }
    </style>
</head>

<script>

</script>
<body>
    
    <script src="../../../../../prd/kami/adapter/qapp/index.js"></script>
    <script>

        document.addEventListener('DOMContentLoaded', function() {
            var qapp = document.querySelector('qapp-app');
            var text = document.createElement('div');
            var textArr = [];
            // textArr.push('使用说明');
            // textArr.push('1.如果不需要标题，那么不要穿title.');
            // textArr.push('2.如果提示框的确认没有其他额外需要，那么不需要传oncomplete，如果有额外的处理逻辑，用户需要在处理逻辑后手动调close.');
            text.innerHTML = textArr.join('<br/>');
            qapp.appendChild(text);

            var show = document.createElement('BUTTON');
            show.innerHTML = '点击显示searchlist';

            var datasource = [
                {id: '1', text: '阿里', py: 'al'},
                {id: '1', text: '鞍山', py: 'as'},
                {id: '1', text: '北京', py: 'bj'},
                {id: '1', text: '包头', py: 'bt'},
                {id: '1', text: '北海', py: 'bh'},
                {id: '1', text: '成都', py: 'cd'},
                {id: '1', text: '大同', py: 'dt'},
                {id: '1', text: '大同', py: 'ee'},
                {id: '1', text: '大同', py: 'ee'},
                {id: '1', text: '福州', py: 'fz'},
                {id: '1', text: '广州', py: 'gz'},
                {id: '1', text: '杭州', py: 'hz'},
                {id: '1', text: '海口', py: 'hk'},
                {id: '1', text: '北京', py: 'ij'},
                {id: '1', text: '北京', py: 'jj'},
                {id: '1', text: '北京', py: 'kj'},
                {id: '1', text: '兰州', py: 'lz'},
                {id: '1', text: '兰州2', py: 'lz'},
                {id: '1', text: '兰州3', py: 'lz'},
                {id: '1', text: '北京', py: 'mj'},
                {id: '1', text: '北京', py: 'nj'},
                {id: '1', text: '北京', py: 'oj'},
                {id: '1', text: '北京', py: 'pj'},
                {id: '1', text: '泉州', py: 'qz'},
                {id: '1', text: '北京', py: 'rj'},
                {id: '1', text: '上海', py: 'sh'},
                {id: '1', text: '深圳', py: 'sz'},
                {id: '1', text: '北京', py: 'tj'},
                {id: '1', text: '北京', py: 'uj'},
                {id: '1', text: '北京', py: 'vj'},
                {id: '1', text: '武汉', py: 'wh'},
                {id: '1', text: '厦门', py: 'xm'},
                {id: '1', text: '北京', py: 'yj'},
                {id: '5', text: '漳州', py: 'zz'}
            ];


            show.addEventListener('click', function () {
                this.style.display = 'none';
                QApp.showWidget('popsearchlist', {
                    datasource: datasource,
                    groupBy: ['py'],
                    ignorecase: true,
                    filterBy: ['text', 'id', 'py'],
                    modalClass: 'yo-search-modal',
                    activeClass: 'item-active',
                    notGroupItem: '<li class="item">新的酒店</li><li class="item">酒店公众号</li><li class="item">标签</li>',
                    previousData: [
                        {id: '11', text: '北京', py: '&#xf124;', title: '当前定位', cls: 'yo-ico', flag: 'item1'},
                        {id: '12', text: '厦门', py: '历史', title: '历史数据'},
                        {id: '13', text: '北京', py: '热门', title: '热门数据'}
                    ],
                    onSelectFilterItem: function(data) {
                        console.log(data);
                    },
                    onSelectItem: function(data) {
                        console.log(data);
                    }
                });
            });

            qapp.appendChild(show);
        });
    </script>
</body>
</html>