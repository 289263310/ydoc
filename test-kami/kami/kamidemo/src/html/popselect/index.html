<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>popselect Demo</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="format-detection" content="telephone=no,email=no" />
    <link rel="stylesheet" href="../../../prd/yo/usage/export/yo-flex.css" />
    <link rel="stylesheet" href="../../../prd/yo/usage/kami/popselect.css" />
</head>
<body>
<section class="yo-flex">
    <header class="yo-header m-header">
        <h2 class="title">popselect</h2>
        <a href="../../../index.html" class="regret yo-ico">&#xf07d;</a>
        <span class="affirm yo-ico">&#xf067;</span>
    </header>
    <div class="flex" id="container">
        <ul class="yo-list">
            <li class="item">
                <div class="yo-btn yo-btn-stacked yo-btn-l js-default">打开</div>
            </li>
        </ul>
    </div>
</section>

<script type="demo/javascript">

</script>
<script type="text/javascript" src="../../../prd/scripts/common.js"></script>
<script type="text/javascript" src="../../../prd/scripts/kami-popselect.js"></script>
<script type="text/javascript">

// 获取组件。require("path/to/popselect")
var Popselect = Kami.PopSelect;

var datasource = [
    {
        key: 'lixuan',
        datasource : [
            {text: '数据0', value: 0},
            {text: '数据1', value: 1},
            {text: '数据2', value: 2},
            {text: '数据3', value: 3},
            {text: '数据4', value: 4},
            {text: '数据5', value: 5},
            {text: '数据6', value: 6},
            {text: '数据7', value: 7},
            {text: '数据8', value: 8},
            {text: '数据9', value: 9}
        ],
        value: 9,
        
        tag: '单位'
    },
    {
        key: 'day',
        datasource : [
            // {text: '实验0', value: 0},
            {text: '实验1', value: 1},
            {text: '实验2', value: 2}
        ],
        value: 1,
        infinite: false,
        tag: '单位'
    }
];

var options = {
    displayCount: 5,
    title: '选择测试数据',
    effect: true,
    datasource: datasource
}

var popselect = new Popselect( options );

popselect.render();
popselect.on('ok', function( close ){
    Demo.log('ok')
    close();

});
popselect.on('cancel', function(close) {
    Demo.log('cancel')
    close()
});
popselect.on('changevalue', function( key, value, pvalue ){
    Demo.log(arguments)
})
// 重新唤起有bug，建议关闭时使用destroy。唤起新打开一个
function show(){
    popselect.show()
}

$('.js-default').tap( show )

</script>
</body>
</html>