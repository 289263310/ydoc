<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
  <meta name="description" content="description of your site">
  <meta name="author" content="author of the site">
  <title>Qunar React Native for Web 组件</title>
  <link rel="stylesheet" href="source/app.css"/>
  <link rel="stylesheet" href="source/highlight.min.css"/>
</head>
<body>
    <div class="ydoc">

      <header class="ydoc-header">
        <div class="ydoc-header-area">
            
            <a href="http://ued.qunar.com/mobile/" class="navbar-brand">Qunar</a>
            
            <button class="ydocIcon navbar-toggle">&#xf020;</button>
            <nav class="ydoc-nav">
              <ul class="navbar-left">
                
                    
                    <li class="">
                        
                        <a href="index.html">简介</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="start.html">起步</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="develop.html">开发</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="publish.html">发布</a>
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="component.html">组件</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="api.html">API</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="extension.html">扩展</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="demo.html">DEMO</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="releases.html">版本</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="http://ued.qunar.com/qrn/" target="_blank">QRN</a>
                        
                    </li>
                    
                
              </ul>
            </nav>
        </div>
    </header>
    
    <!-- <header style="height:20px"></header> -->
    
      <!-- Docs page layout -->
      
      <div class="ydoc-banner-bg">
          <div class="ydoc-banner">
              <div class="ydoc-banner-area">
                  <h1>Qunar React Native for Web 组件</h1>
                  <p>组件</p>
              </div>
          </div>
      




      <div class="ydoc-container">
        
          
          <div class="ydoc-container-content">
              <div class="content-right">
                  <nav class="sidebar">
                    <ul class="nav docs-sidenav">
                        
                        
                        <li  >
                            
                            <a href="component-ActivityIndicator.html">ActivityIndicator</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-ActionSheet.html">ActionSheet</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Alert.html">Alert</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-DatePicker.html">DatePicker</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Image.html">Image</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Picker.html">Picker</a>
                            
                        </li>
                        
                        
                        
                        <li  class="active"   class="active" >
                            
                            <a href="component-ListView.html">ListView</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-ListView.DataSource.html">ListView.DataSource</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Modal.html">Modal</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Navigator.html">Navigator</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Navigator.NavigatorBar.html">Navigator.NavigatorBar</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-ProgressBar.html">ProgressBar</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-ScrollView.html">ScrollView</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Switch.html">Switch</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Text.html">Text</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-TextInput.html">TextInput</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-TimePicker.html">TimePicker</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-Toast.html">Toast</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-TouchableHighlight.html">TouchableHighlight</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-TouchableOpacity.html">TouchableOpacity</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-TouchableWithoutFeedback.html">TouchableWithoutFeedback</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-View.html">View</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-ViewPager.html">ViewPager</a>
                            
                        </li>
                        
                        
                        
                        <li  >
                            
                            <a href="component-WebView.html">WebView</a>
                            
                        </li>
                        
                        
                    </ul>
                  </nav>
              </div>
              <div class="content-left markdown-body">
                
                <h2 id="ListView">ListView</h2><p>ListView 是一个核心组件，用来高效地显示纵向滚动的变化数据的列表。最基本的使用方式是创建一个 <code>ListView.DataSource</code> 数据源，并填充一组数据，用该数据源来初始化一个 <code>ListView</code> 组价，并提供一个 <code>renderRow</code> 回调函数，该函数接受数据源中的单个数据作为参数，并返回一个可渲染的组价，作为 List 的子项。</p>
<p>最简单的例子：</p>
<pre><code class="lang-javascript">getInitialState: function() {
  var ds = new ListView.DataSource({rowHasChanged: (r1, r2) =&gt; r1 !== r2});
  return {
    dataSource: ds.cloneWithRows([&#39;row 1&#39;, &#39;row 2&#39;]),
  };
},

render: function() {
  return (
    &lt;ListView
      dataSource={this.state.dataSource}
      renderRow={(rowData) =&gt; &lt;Text&gt;{rowData}&lt;/Text&gt;}
    /&gt;
  );
},
</code></pre>
<p>ListView 还支持一些高级特性，包括设置分段粘性头部（滚动到一定位置，会有一项固定在顶部），列表头部和尾部，列表滚动到底部的回调（<code>onEndReached</code>）以及在视野中可见项变化时候的回调（<code>onChangeVisibleRows</code>），还有一些性能优化措施。</p>
<p>下面是一些性能优化措施让 ListView 在加载大量数据的时候也能平滑地滚动：</p>
<ul>
<li>仅仅重新渲染变化的子项。可以提供一个 <code>rowHasChanged</code> 函数给数据源，它告诉 ListView 当数据源变化时是否需要重新渲染某一行，详细使用方法参见对 <code>ListView.DataSource</code> 的说明。</li>
<li>限制单行数据的渲染频率。默认情况下，在一次事件循环中仅重新渲染一行数据（可以使用 <code>pageSize</code> 属性来配置），这将大量的渲染工作分散为小块来处理，以减小丢帧的可能性。</li>
</ul>
<h4 id="属性">属性</h4><p><a href="http://facebook.github.io/react-native/docs/scrollview.html#props">ScrollView Props...</a></p>
<h5 id="dataSource <small>ListView.DataSource</small>">dataSource <small>ListView.DataSource</small></h5><p>一个 <code>ListView.DataSource</code> 的实例，用来给 ListView 提供数据源</p>
<h5 id="initialListSize <small>number</small>">initialListSize <small>number</small></h5><p>指定初始阶段渲染的行数。使用该属性来让首屏显示合适的行数，而不是使用很多帧才将首屏显示出来。</p>
<h5 id="onChangeVisibleRows <small>function</small>">onChangeVisibleRows <small>function</small></h5><p><code>(visibleRows, changedRows) =&gt; void</code></p>
<p>当可见的行的集合变化的时候调用此回调函数。visibleRows 以 { sectionID: { rowID: true }} 的格式包含了所有可见行，而changedRows 以{ sectionID: { rowID: true | false }} 的格式包含了所有刚刚改变了可见性的行，其中如果值为true表示一个行变得可见，而为false表示行刚刚离开可视区域而变得不可见。</p>
<p>方法参数:</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">必选</th>
<th style="text-align:left">版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">visibleRows</td>
<td style="text-align:left">object</td>
<td style="text-align:left">当前可见行</td>
</tr>
<tr>
<td style="text-align:left">changedRows</td>
<td style="text-align:left">object</td>
<td style="text-align:left">可见状态改变的行</td>
</tr>
</tbody>
</table>
<h5 id="onEndReached <small>function</small>">onEndReached <small>function</small></h5><p>当所有的数据都已经渲染过，并且列表被滚动到距离最底部不足onEndReachedThreshold个像素的距离时调用。原生的滚动事件会被作为参数传递。</p>
<h5 id="onEndReachedThreshold <small>number</small>">onEndReachedThreshold <small>number</small></h5><p>调用 <code>onEndReached</code> 之前的临界值，单位是像素。</p>
<h5 id="pageSize <small>number</small>">pageSize <small>number</small></h5><p>每次事件循环（每帧）渲染的行数。</p>
<h5 id="renderFooter <small>function</small>">renderFooter <small>function</small></h5><p><code>() =&gt; renderable</code></p>
<p>页头与页脚会在每次渲染过程中都重新渲染（如果提供了这些属性）。如果它们重绘的性能开销很大，可以考虑使用renderStaticHeader/renderStaticFooter。页脚会永远在列表的最底部，而页头会在最顶部。</p>
<h5 id="renderHeader <small>function</small>">renderHeader <small>function</small></h5><p><code>() =&gt; renderable</code></p>
<p>同renderFooter，渲染页尾组件。</p>
<h5 id="renderStaticFooter <small>function</small>">renderStaticFooter <small>function</small></h5><p><code>() =&gt; renderable</code></p>
<p>只渲染一次的头部组件。</p>
<h5 id="renderStaticHeader  <small>function</small>">renderStaticHeader  <small>function</small></h5><p><code>() =&gt; renderable</code></p>
<p>只渲染一次的尾部组件。</p>
<h5 id="renderRow  <small>function</small>">renderRow  <small>function</small></h5><p><code>(rowData, sectionID, rowID, highlightRow) =&gt; renderable</code></p>
<p>从数据源(Data source)中接受一条数据，以及它和它所在section的ID。返回一个可渲染的组件来为这行数据进行渲染。默认情况下参数中的数据就是放进数据源中的数据本身，不过也可以提供一些转换器。</p>
<p>方法参数:</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">rowData</td>
<td style="text-align:left">React.PropTypes.any</td>
<td style="text-align:left">数据源中的数据</td>
</tr>
<tr>
<td style="text-align:left">sectionID</td>
<td style="text-align:left">string</td>
<td style="text-align:left">所处section名</td>
</tr>
<tr>
<td style="text-align:left">rowID</td>
<td style="text-align:left">number</td>
<td style="text-align:left">所处section中的index</td>
</tr>
<tr>
<td style="text-align:left">highlightRow</td>
<td style="text-align:left">function</td>
<td style="text-align:left">通过调用该函数可通知ListView高亮该行</td>
</tr>
</tbody>
</table>
<h5 id="renderScrollComponent <small>function</small>">renderScrollComponent <small>function</small></h5><p><code>(props) =&gt; renderable</code></p>
<p>指定一个函数，在其中返回一个可以滚动的组件。ListView将会在该组件内部进行渲染。默认情况下会返回一个包含指定属性的ScrollView。</p>
<p>方法参数:</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名</th>
<th style="text-align:left">类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">可滚动组件的属性</td>
<td style="text-align:left">object</td>
</tr>
</tbody>
</table>
<h5 id="renderSeparator <small>function</small>">renderSeparator <small>function</small></h5><p><code>(sectionID, rowID, adjacentRowHighlighted) =&gt; renderable</code></p>
<p>如果提供了此属性，一个可渲染的组件会被渲染在每一行下面，除了小节标题的前面的最后一行。</p>
<p>方法参数:</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sectionID</td>
<td style="text-align:left">string</td>
<td style="text-align:left">所处section名</td>
</tr>
<tr>
<td style="text-align:left">rowID</td>
<td style="text-align:left">number</td>
<td style="text-align:left">所处section中的index</td>
</tr>
<tr>
<td style="text-align:left">adjacentRowHighlighted</td>
<td style="text-align:left">bool</td>
<td style="text-align:left">邻近的行是否被高亮</td>
</tr>
</tbody>
</table>
<h5 id="scrollRenderAheadDistance <small>number</small>">scrollRenderAheadDistance <small>number</small></h5><p>当一个行接近屏幕范围多少像素之内的时候，就开始渲染这一行。</p>
<h5 id="useOriginScrollView <small>bool</small>">useOriginScrollView <small>bool</small></h5><p>如果提供了此属性， 会使用原生ScrollView，配置了renderScrollComponent时不生效。</p>
<h5 id="scrollEventThrottle <small>bool</small>">scrollEventThrottle <small>bool</small></h5><p>触发onScroll最小间隔毫秒数，默认值为50。</p>
<h4 id="方法">方法</h4><h5 id="getScrollResponder">getScrollResponder</h5><p>获取ScrollView，当使用原生ScrollView时(useOriginScrollView属性为true)返回滚动响应器。</p>
<h5 id="startRefreshing">startRefreshing</h5><p>同ScrollView，当前组件有refreshControl属性，并且没有正在下拉刷新，则强制触发下拉刷新，变成正在刷新的状态。</p>
<h5 id="stopRefreshing">stopRefreshing</h5><p>同ScrollView，当前组件有refreshControl属性，并且正在下拉刷新，则停止下拉刷新的状态。</p>
<h5 id="startLoading">startLoading</h5><p>同ScrollView，当前组件有loadControl属性，并且没有正在加载，则强制触发加载更多，变成正在加载更多的状态。</p>
<h5 id="stopLoading">stopLoading</h5><p>同ScrollView，当前组件有loadControl属性，并且正在加载，则停止加载更多的状态。</p>
<h5 id="scrollToTop">scrollToTop</h5><p>返回顶部，可通过{animated: true}开启动画。可以参考这个例子。</p>

              </div>
          </div>
          
        
      </div>
     
     </div>
     
      <footer class="footer">
        <div class="copyright">
            © 2015 - 2016 Qunar 平台前端架构组. Powered by <a href="http://gitlab.corp.qunar.com/mfe/qdoc">qdoc</a>
        </div>
      </footer>
    </div>
    <script src="source/jquery.min.js"></script>
    <script src="source/highlight.min.js"></script>
    <script src="source/app.js"></script>
</body>
</html>
